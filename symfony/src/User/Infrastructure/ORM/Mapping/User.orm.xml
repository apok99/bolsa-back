<doctrine-mapping xmlns="http://doctrine-project.org/schemas/orm/doctrine-mapping">
    <entity name="App\User\Domain\Model\User"
            repository-class="App\User\Infrastructure\ORM\Repository\DoctrineUserRepository"
    >
        <unique-constraints>
            <unique-constraint name="email_uq" columns="email"/>
        </unique-constraints>

        <id name="id" type="uuid_binary"/>
        <field name="username" unique="true"/>
        <embedded name="email" class="App\Shared\Domain\ValueObject\Email" use-column-prefix="false" />
        <field name="password" nullable="true"/>
        <field name="roles" type="json"/>
        <field name="acceptedAt" type="carbon" nullable="true">
            <options>
                <option name="charset">ascii</option>
            </options>
        </field>
        <field name="createdAt" type="carbon">
            <options>
                <option name="charset">ascii</option>
            </options>
        </field>
        <field name="updatedAt" type="carbon">
            <options>
                <option name="charset">ascii</option>
            </options>
        </field>
        <field name="deletedAt" type="carbon" nullable="true">
            <options>
                <option name="charset">ascii</option>
            </options>
        </field>
    </entity>
</doctrine-mapping>
